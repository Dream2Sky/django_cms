function getCookie(o){var e=null;if(document.cookie&&""!==document.cookie)for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var s=jQuery.trim(t[n]);if(s.substring(0,o.length+1)===o+"="){e=decodeURIComponent(s.substring(o.length+1));break}}return e}var xfzajax={get:function(o){o.method="get",this.ajax(o)},post:function(o){o.method="post",this._ajaxSetup(),this.ajax(o)},ajax:function(o){var s=o.success;o.success=function(o){if(console.log(o),200===o.code)s&&s(o);else{var e=o.message;if("string"==typeof e||e.constructor===String)window.messageBox.showError(e);else for(var t in e){var n=e[t][0];window.messageBox.showError(n)}s&&s(o)}},o.fail=function(o){console.log(o),window.messageBox.showError("服务器内部错误！")},$.ajax(o)},_ajaxSetup:function(){$.ajaxSetup({beforeSend:function(o,e){console.log(getCookie("csrftoken")),/^(GET|HEAD|OPTIONS|TRACE)$/.test(e.type)||this.crossDomain||o.setRequestHeader("X-CSRFToken",getCookie("csrftoken"))}})}};